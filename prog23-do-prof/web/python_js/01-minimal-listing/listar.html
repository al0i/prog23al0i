<!doctype html>
<html lang="en">

<head></head>
<title>Listagem de pessoas</title>
</head>

<body>
    <div id="listagem">
        <!-- aqui vão entrar as pessoas -->
    </div>

    <!-- inclusão da biblioteca jquery -->
    <script src="jquery-3.6.3.min.js"></script>

    <script>
        // chamada ao backend
        $.ajax({
            url: 'http://localhost:5000/listar_pessoas',
            method: 'GET',
            dataType: 'json', // os dados são recebidos no formato json
            success: listar, // chama a função listar para processar o resultado
            error: function () {
                alert("erro ao ler dados, verifique o backend");
            }
        });

        // função executada quando tudo dá certo
        function listar(pessoas) {
            // percorrer a lista de pessoas retornadas; 
            for (var i in pessoas) { //i vale a posição no vetor
                // acrescentar informações da pessoa em uma string
                lin = '==> ' + pessoas[i].nome + ', ' +
                    pessoas[i].email + '</br>';
                // adiciona a string criada na div
                $('#listagem').append(lin);
            }
        }
    </script>
</body>

</html>